import {Component} from '@angular/core';
import {NavController, NavParams, IonicPage} from 'ionic-angular';
import {RestProvider} from '../../providers/rest/rest';
import * as _ from 'lodash';
import * as moment from 'moment';

@IonicPage({
  name: 'news'
})
@Component({
  selector: 'page-news',
  templateUrl: 'news.html'
})
export class NewsPage {
  selectedItem: any;
  groupedNews: object[];

  constructor(public navCtrl: NavController, public navParams: NavParams, public rest: RestProvider) {
    // If we navigated to this page, we will have an item available as a nav param
    this.selectedItem = navParams.get('item');
    // this.groupedNews = this.groupNewsByDate({"NASDAQ:ECYT":[{"guid":"tag:finance.google.com,cluster:52779813441894","symbol":"NASDAQ:ECYT","title":"Endocyte Announces Phase 3 VISION Trial and Provides Update on Corporate ...","description":"Endocyte Announces Phase 3 VISION Trial and Provides Update on Corporate ...\n GlobeNewswire (press release) - Feb 26, 2018 \nWEST LAFAYETTE, Ind., Feb. 26, 2018 (GLOBE NEWSWIRE) -- Endocyte, Inc. (NASDAQ:ECYT), a biopharmaceutical company developing targeted therapeutics for personalized cancer treatment, today provided an update on its corporate strategy and announced ...\nEndocyte to Begin Trial of Prostate Cancer Treatment - Inside INdiana Business\nEndocyte (ECYT) Reports Supply Agreement with ITM for EndolucinBeta in Phase 3 ... - StreetInsider.com","summary":"Endocyte Announces Phase 3 VISION Trial and Provides Update on Corporate ...\n GlobeNewswire (press release) - Feb 26, 2018 \nWEST LAFAYETTE, Ind., Feb. 26, 2018 (GLOBE NEWSWIRE) -- Endocyte, Inc. (NASDAQ:ECYT), a biopharmaceutical company developing targeted therapeutics for personalized cancer treatment, today provided an update on its corporate strategy and announced ...\nEndocyte to Begin Trial of Prostate Cancer Treatment - Inside INdiana Business\nEndocyte (ECYT) Reports Supply Agreement with ITM for EndolucinBeta in Phase 3 ... - StreetInsider.com","date":"2018-02-26T12:56:15.000Z","link":"https://globenewswire.com/news-release/2018/02/26/1387288/0/en/Endocyte-Announces-Phase-3-VISION-Trial-and-Provides-Update-on-Corporate-Strategy-and-Reports-Fourth-Quarter-and-Year-End-2017-Financial-Results.html"},{"guid":"tag:finance.google.com,cluster:https://seekingalpha.com/news/3334580-endocyte-another-7-percent-cowen-upgrades","symbol":"NASDAQ:ECYT","title":"Endocyte up another 7% as Cowen upgrades","description":"Endocyte up another 7% as Cowen upgrades\n Seeking Alpha - Feb 27, 2018 \nEndocyte up another 7% as Cowen upgrades. Feb. 27, 2018 8:53 AM ET |By: Stephen Alpher, SA News Editor. The risk/reward at the current stock valuation looks good, says analyst Boris Peaker, noting PSMA-617 has been tested in 2K-3K patients in Germany ...","summary":"Endocyte up another 7% as Cowen upgrades\n Seeking Alpha - Feb 27, 2018 \nEndocyte up another 7% as Cowen upgrades. Feb. 27, 2018 8:53 AM ET |By: Stephen Alpher, SA News Editor. The risk/reward at the current stock valuation looks good, says analyst Boris Peaker, noting PSMA-617 has been tested in 2K-3K patients in Germany ...","date":"2018-02-27T13:52:30.000Z","link":"https://seekingalpha.com/news/3334580-endocyte-another-7-percent-cowen-upgrades"},{"guid":"tag:finance.google.com,cluster:52779815052939","symbol":"NASDAQ:ECYT","title":"Endocyte Announces Proposed Public Offering of Common Stock","description":"Endocyte Announces Proposed Public Offering of Common Stock\n GlobeNewswire (press release) - Feb 27, 2018 \nWEST LAFAYETTE, Ind., Feb. 27, 2018 (GLOBE NEWSWIRE) -- Endocyte, Inc. (Nasdaq:ECYT), a biopharmaceutical company developing targeted therapeutics for personalized cancer treatment, announced today that it intends to offer and sell shares of its common ...\nEndocyte Appoints Patrick Machado, JD to Its Board of Directors - Nasdaq","summary":"Endocyte Announces Proposed Public Offering of Common Stock\n GlobeNewswire (press release) - Feb 27, 2018 \nWEST LAFAYETTE, Ind., Feb. 27, 2018 (GLOBE NEWSWIRE) -- Endocyte, Inc. (Nasdaq:ECYT), a biopharmaceutical company developing targeted therapeutics for personalized cancer treatment, announced today that it intends to offer and sell shares of its common ...\nEndocyte Appoints Patrick Machado, JD to Its Board of Directors - Nasdaq","date":"2018-02-27T23:48:45.000Z","link":"https://globenewswire.com/news-release/2018/02/27/1396550/0/en/Endocyte-Announces-Proposed-Public-Offering-of-Common-Stock.html"},{"guid":"tag:finance.google.com,cluster:52779816214239","symbol":"NASDAQ:ECYT","title":"Endocyte Announces Pricing of Public Offering of Common Stock","description":"Endocyte Announces Pricing of Public Offering of Common Stock\n GlobeNewswire (press release) - Feb 28, 2018 \nWEST LAFAYETTE, Ind., Feb. 28, 2018 (GLOBE NEWSWIRE) -- Endocyte, Inc. (Nasdaq Global Market:ECYT), a biopharmaceutical company developing targeted therapeutics for personalized cancer treatment, announced today the pricing of an underwritten ...\nEndocyte (ECYT) Announces Proposed Common Share Offering - StreetInsider.com","summary":"Endocyte Announces Pricing of Public Offering of Common Stock\n GlobeNewswire (press release) - Feb 28, 2018 \nWEST LAFAYETTE, Ind., Feb. 28, 2018 (GLOBE NEWSWIRE) -- Endocyte, Inc. (Nasdaq Global Market:ECYT), a biopharmaceutical company developing targeted therapeutics for personalized cancer treatment, announced today the pricing of an underwritten ...\nEndocyte (ECYT) Announces Proposed Common Share Offering - StreetInsider.com","date":"2018-02-28T14:15:00.000Z","link":"https://globenewswire.com/news-release/2018/02/28/1401384/0/en/Endocyte-Announces-Pricing-of-Public-Offering-of-Common-Stock.html"},{"guid":"tag:finance.google.com,cluster:52779815708948","symbol":"NASDAQ:ECYT","title":"Endocyte, Inc. (ECYT): What's the Story?","description":"Endocyte, Inc. (ECYT): What's the Story?\n StockNewsJournal - Mar 1, 2018 \nEndocyte, Inc. (ECYT) currently trades with a market capitalization of $241.47 Million. That value represents a market adjusting for revenues that have been falling by -4.00 % on a quarterly year/year basis as of the company's last quarterly report ...\nEndocyte Inc (NASDAQ:ECYT): Are Analysts Bull Or Bear? - Simply Wall St","summary":"Endocyte, Inc. (ECYT): What's the Story?\n StockNewsJournal - Mar 1, 2018 \nEndocyte, Inc. (ECYT) currently trades with a market capitalization of $241.47 Million. That value represents a market adjusting for revenues that have been falling by -4.00 % on a quarterly year/year basis as of the company's last quarterly report ...\nEndocyte Inc (NASDAQ:ECYT): Are Analysts Bull Or Bear? - Simply Wall St","date":"2018-03-01T20:26:15.000Z","link":"https://stocknewsjournal.com/2018/03/01/endocyte-inc-ecyt-whats-the-story/"},{"guid":"tag:finance.google.com,cluster:52779818675066","symbol":"NASDAQ:ECYT","title":"Endocyte Announces Closing of Public Offering of Common Stock","description":"Endocyte Announces Closing of Public Offering of Common Stock\n GlobeNewswire (press release) - Mar 2, 2018 \nWEST LAFAYETTE, March 02, 2018 (GLOBE NEWSWIRE) -- Endocyte, Inc. (Nasdaq:ECYT), a biopharmaceutical company developing targeted therapeutics for personalized cancer treatment, announced today the closing of an underwritten registered public offering ...","summary":"Endocyte Announces Closing of Public Offering of Common Stock\n GlobeNewswire (press release) - Mar 2, 2018 \nWEST LAFAYETTE, March 02, 2018 (GLOBE NEWSWIRE) -- Endocyte, Inc. (Nasdaq:ECYT), a biopharmaceutical company developing targeted therapeutics for personalized cancer treatment, announced today the closing of an underwritten registered public offering ...","date":"2018-03-02T21:00:00.000Z","link":"https://globenewswire.com/news-release/2018/03/02/1414385/0/en/Endocyte-Announces-Closing-of-Public-Offering-of-Common-Stock.html"},{"guid":"tag:finance.google.com,cluster:52779817836749","symbol":"NASDAQ:ECYT","title":"Endocyte Inc. (ECYT) Moves Higher on Volume Spike for March 02","description":"Endocyte Inc. (ECYT) Moves Higher on Volume Spike for March 02\n Equities.com - Mar 2, 2018 \nEndocyte Inc. (ECYT) traded on unusually high volume on Mar. 02, as the stock gained 10.17% to close at $6.50. On the day, Endocyte Inc. saw 6.26 million shares trade hands on 28,989 trades. Considering that the stock averages only a daily volume of 1 ...\nWhat's in Endocyte, Inc. (ECYT) After Touching 52-Week High? - Frisco Fastball","summary":"Endocyte Inc. (ECYT) Moves Higher on Volume Spike for March 02\n Equities.com - Mar 2, 2018 \nEndocyte Inc. (ECYT) traded on unusually high volume on Mar. 02, as the stock gained 10.17% to close at $6.50. On the day, Endocyte Inc. saw 6.26 million shares trade hands on 28,989 trades. Considering that the stock averages only a daily volume of 1 ...\nWhat's in Endocyte, Inc. (ECYT) After Touching 52-Week High? - Frisco Fastball","date":"2018-03-02T22:30:06.000Z","link":"https://www.equities.com/news/endocyte-inc-ecyt-moves-higher-on-volume-spike-for-march-02"},{"guid":"tag:finance.google.com,cluster:52779818434849","symbol":"NASDAQ:ECYT","title":"Endocyte Inc. (ECYT) Breaks into New 52-Week High on March 02 Session","description":"Endocyte Inc. (ECYT) Breaks into New 52-Week High on March 02 Session\n Equities.com - Mar 2, 2018 \nShares of Endocyte Inc. (ECYT) broke into a new 52-week high yesterday, hitting a peak of $6.70. Shares closed at $6.50 after opening at $5.73 for a move of 10.17%.","summary":"Endocyte Inc. (ECYT) Breaks into New 52-Week High on March 02 Session\n Equities.com - Mar 2, 2018 \nShares of Endocyte Inc. (ECYT) broke into a new 52-week high yesterday, hitting a peak of $6.70. Shares closed at $6.50 after opening at $5.73 for a move of 10.17%.","date":"2018-03-02T22:30:06.000Z","link":"https://www.equities.com/news/endocyte-inc-ecyt-breaks-into-new-52-week-high-on-march-02-session"},{"guid":"tag:finance.google.com,cluster:52779820070051","symbol":"NASDAQ:ECYT","title":"The Volatility Option Trade After Earnings in Endocyte Inc","description":"The Volatility Option Trade After Earnings in Endocyte Inc\n CML News - Mar 3, 2018 \nThe results here are provided for general informational purposes, as a convenience to the readers. The materials are not a substitute for obtaining professional advice from a qualified person, firm or corporation.","summary":"The Volatility Option Trade After Earnings in Endocyte Inc\n CML News - Mar 3, 2018 \nThe results here are provided for general informational purposes, as a convenience to the readers. The materials are not a substitute for obtaining professional advice from a qualified person, firm or corporation.","date":"2018-03-03T20:03:45.000Z","link":"http://news.cmlviz.com/2018/03/03/the-volatility-option-trade-after-earnings-in-endocyte-inc.html"},{"guid":"tag:finance.google.com,cluster:52779820441142","symbol":"NASDAQ:ECYT","title":"Could Endocyte, Inc. (ECYT) Lose Strenght? The Stock Increases A Lot Today","description":"Could Endocyte, Inc. (ECYT) Lose Strenght? The Stock Increases A Lot Today\n Frisco Fastball - 13 hours ago \nGeode Capital Mgmt Limited Liability Company holds 0% of its portfolio in Endocyte, Inc. (NASDAQ:ECYT) for 208,895 shares.\nWhat Next for Endocyte, Inc. (ECYT) Stock After Today's Huge Increase? - Reurope\nIt Seems Endocyte, Inc. (ECYT) Will Go Up. Have Another Big Increase - BZ Weekly","summary":"Could Endocyte, Inc. (ECYT) Lose Strenght? The Stock Increases A Lot Today\n Frisco Fastball - 13 hours ago \nGeode Capital Mgmt Limited Liability Company holds 0% of its portfolio in Endocyte, Inc. (NASDAQ:ECYT) for 208,895 shares.\nWhat Next for Endocyte, Inc. (ECYT) Stock After Today's Huge Increase? - Reurope\nIt Seems Endocyte, Inc. (ECYT) Will Go Up. Have Another Big Increase - BZ Weekly","date":"2018-03-04T20:03:45.000Z","link":"https://friscofastball.com/could-endocyte-inc-ecyt-lose-strenght-the-stock-increases-a-lot-today/"}],"NASDAQ:TNDM":[{"guid":"tag:finance.google.com,cluster:52779795104130","symbol":"NASDAQ:TNDM","title":"Tandem Diabetes Care Announces Pricing of $60 Million Underwritten Public ...","description":"Tandem Diabetes Care Announces Pricing of $60 Million Underwritten Public ...\n Business Wire (press release) - Feb 9, 2018 \nSAN DIEGO--(BUSINESS WIRE)--Tandem Diabetes Care®, Inc. (NASDAQ: TNDM), a medical device company and manufacturer of the only touchscreen insulin pumps available in the United States, today announced the pricing of an underwritten public offering of 30 ...\nTandem Diabetes Care (TNDM) Earning Somewhat Positive Press Coverage, Study Finds - The Ledger Gazette\nIs Tandem Diabetes Care, Inc. (TNDM) a Sell? The Stock Declines Again - Reurope","summary":"Tandem Diabetes Care Announces Pricing of $60 Million Underwritten Public ...\n Business Wire (press release) - Feb 9, 2018 \nSAN DIEGO--(BUSINESS WIRE)--Tandem Diabetes Care®, Inc. (NASDAQ: TNDM), a medical device company and manufacturer of the only touchscreen insulin pumps available in the United States, today announced the pricing of an underwritten public offering of 30 ...\nTandem Diabetes Care (TNDM) Earning Somewhat Positive Press Coverage, Study Finds - The Ledger Gazette\nIs Tandem Diabetes Care, Inc. (TNDM) a Sell? The Stock Declines Again - Reurope","date":"2018-02-09T13:30:49.000Z","link":"https://www.businesswire.com/news/home/20180209005159/en/Tandem-Diabetes-Care-Announces-Pricing-60-Million"},{"guid":"tag:finance.google.com,cluster:52779799462832","symbol":"NASDAQ:TNDM","title":"Tandem Diabetes Care Announces Closing of $69 Million Underwritten Public ...","description":"Tandem Diabetes Care Announces Closing of $69 Million Underwritten Public ...\n Business Wire (press release) - Feb 13, 2018 \nSAN DIEGO--(BUSINESS WIRE)--Tandem Diabetes Care®, Inc. (NASDAQ: TNDM), a medical device company and manufacturer of the only touchscreen insulin pumps available in the United States, today announced the closing of its previously announced underwritten ...\nTandem Diabetes Care Inc (TNDM) PRESIDENT & CEO Kim D Blickenstaff Bought $1.5 ... - GuruFocus.com","summary":"Tandem Diabetes Care Announces Closing of $69 Million Underwritten Public ...\n Business Wire (press release) - Feb 13, 2018 \nSAN DIEGO--(BUSINESS WIRE)--Tandem Diabetes Care®, Inc. (NASDAQ: TNDM), a medical device company and manufacturer of the only touchscreen insulin pumps available in the United States, today announced the closing of its previously announced underwritten ...\nTandem Diabetes Care Inc (TNDM) PRESIDENT & CEO Kim D Blickenstaff Bought $1.5 ... - GuruFocus.com","date":"2018-02-13T21:10:41.000Z","link":"https://www.businesswire.com/news/home/20180213006518/en/Tandem-Diabetes-Care-Announces-Closing-69-Million"},{"guid":"tag:finance.google.com,cluster:52779801512864","symbol":"NASDAQ:TNDM","title":"Reduced Time in Hypoglycemia Demonstrated in Tandem Diabetes Care's Pivotal ...","description":"Reduced Time in Hypoglycemia Demonstrated in Tandem Diabetes Care's Pivotal ...\n Business Wire (press release) - Feb 15, 2018 \nVIENNA--(BUSINESS WIRE)--Tandem Diabetes Care®, Inc. (NASDAQ: TNDM), a medical device company and manufacturer of the only touchscreen insulin pumps available in the United States, today announced positive results from a pivotal study of the t:slim X2 ...\nTandem's insulin pump with glucose suspend feature showed benefit in at-home ... - Seeking Alpha","summary":"Reduced Time in Hypoglycemia Demonstrated in Tandem Diabetes Care's Pivotal ...\n Business Wire (press release) - Feb 15, 2018 \nVIENNA--(BUSINESS WIRE)--Tandem Diabetes Care®, Inc. (NASDAQ: TNDM), a medical device company and manufacturer of the only touchscreen insulin pumps available in the United States, today announced positive results from a pivotal study of the t:slim X2 ...\nTandem's insulin pump with glucose suspend feature showed benefit in at-home ... - Seeking Alpha","date":"2018-02-15T14:15:00.000Z","link":"https://www.businesswire.com/news/home/20180215005292/en/Reduced-Time-Hypoglycemia-Demonstrated-Tandem-Diabetes-Care%E2%80%99s"},{"guid":"tag:finance.google.com,cluster:52779801458136","symbol":"NASDAQ:TNDM","title":"Tandem Diabetes Care and Rubin Medical Announce Agreement for Distribution of ...","description":"Tandem Diabetes Care and Rubin Medical Announce Agreement for Distribution of ...\n Business Wire (press release) - Feb 15, 2018 \nRubin Medical AB (www.rubinmedical.se) is a medical device company fully dedicated in the marketing and sales of products in diabetes.\nTandem Diabetes Care Inc Has Bullish Trade, Blickenstaff Kim D Bought Stake! - Frisco Fastball\nCritical Comparison: Akers Biosciences, Inc. (AKER) vs. Tandem Diabetes Care ... - StockNewsGazette","summary":"Tandem Diabetes Care and Rubin Medical Announce Agreement for Distribution of ...\n Business Wire (press release) - Feb 15, 2018 \nRubin Medical AB (www.rubinmedical.se) is a medical device company fully dedicated in the marketing and sales of products in diabetes.\nTandem Diabetes Care Inc Has Bullish Trade, Blickenstaff Kim D Bought Stake! - Frisco Fastball\nCritical Comparison: Akers Biosciences, Inc. (AKER) vs. Tandem Diabetes Care ... - StockNewsGazette","date":"2018-02-15T21:22:30.000Z","link":"https://www.businesswire.com/news/home/20180215006422/en/Tandem-Diabetes-Care-Rubin-Medical-Announce-Agreement"},{"guid":"tag:finance.google.com,cluster:52779803529935","symbol":"NASDAQ:TNDM","title":"Tandem Diabetes Care, Inc. (TNDM) and BioAmber Inc. (BIOA) Activist Update","description":"Tandem Diabetes Care, Inc. (TNDM) and BioAmber Inc. (BIOA) Activist Update\n ValueWalk - Feb 17, 2018 \nBlickenstaff Kim D has filed an SC 13D/A form with the Securities and Exchange Commission (SEC) disclosing ownership of 2,004,800 shares of Tandem Diabetes Care, Inc. (NASDAQ:TNDM). This represents 4.4 percent ownership of the company. Previously ...\nTandem Diabetes Care, Inc. (TNDM) EPS Estimated At $-1.30 - BZ Weekly\nAnalysts See $-1.30 EPS for Tandem Diabetes Care, Inc. (TNDM) - Reurope","summary":"Tandem Diabetes Care, Inc. (TNDM) and BioAmber Inc. (BIOA) Activist Update\n ValueWalk - Feb 17, 2018 \nBlickenstaff Kim D has filed an SC 13D/A form with the Securities and Exchange Commission (SEC) disclosing ownership of 2,004,800 shares of Tandem Diabetes Care, Inc. (NASDAQ:TNDM). This represents 4.4 percent ownership of the company. Previously ...\nTandem Diabetes Care, Inc. (TNDM) EPS Estimated At $-1.30 - BZ Weekly\nAnalysts See $-1.30 EPS for Tandem Diabetes Care, Inc. (TNDM) - Reurope","date":"2018-02-17T23:37:30.000Z","link":"http://www.valuewalk.com/2018/02/tandem-diabetes-care-tndm-bioamber-bioa/"},{"guid":"tag:finance.google.com,cluster:52779806323102","symbol":"NASDAQ:TNDM","title":"Tandem Diabetes Care Applies for Health Canada Medical Device License","description":"Tandem Diabetes Care Applies for Health Canada Medical Device License\n Business Wire (press release) - Feb 20, 2018 \n“This application is another important step toward achieving our strategic goal of bringing the benefits of the t:slim X2 Insulin Pump to people outside of the United States,\" said Kim Blickenstaff, President and CEO of Tandem Diabetes Care. \"When ...\nHow Does Tandem Diabetes Care, Inc. (TNDM) Stack Up Right Now? - StockNewsJournal\nTandem Diabetes Care Inc. (TNDM) Moves Higher on Volume Spike for February 20 - Equities.com","summary":"Tandem Diabetes Care Applies for Health Canada Medical Device License\n Business Wire (press release) - Feb 20, 2018 \n“This application is another important step toward achieving our strategic goal of bringing the benefits of the t:slim X2 Insulin Pump to people outside of the United States,\" said Kim Blickenstaff, President and CEO of Tandem Diabetes Care. \"When ...\nHow Does Tandem Diabetes Care, Inc. (TNDM) Stack Up Right Now? - StockNewsJournal\nTandem Diabetes Care Inc. (TNDM) Moves Higher on Volume Spike for February 20 - Equities.com","date":"2018-02-20T21:22:30.000Z","link":"https://www.businesswire.com/news/home/20180220006513/en/Tandem-Diabetes-Care-Applies-Health-Canada-Medical"},{"guid":"tag:finance.google.com,cluster:52779811291609","symbol":"NASDAQ:TNDM","title":"Applied Optoelectronics, Inc. (AAOI) and Tandem Diabetes Care, Inc. (TNDM ...","description":"Applied Optoelectronics, Inc. (AAOI) and Tandem Diabetes Care, Inc. (TNDM ...\n ValueWalk - Feb 25, 2018 \nMorgan Stanley has filed an SC 13G form with the Securities and Exchange Commission (SEC) disclosing ownership of 1,031,110 shares of Applied Optoelectronics, Inc. (NASDAQ:AAOI). This represents 5.3 percent ownership of the company. Previously, Morgan ...\nAs Applied Optoelectronics INC (Aaoi) (AAOI) Market Valuation Rose ... - Frisco Fastball\nAs Applied Optoelectronics INC (Aaoi) (AAOI) Market Value Rose, Holder Goldman ... - Reurope","summary":"Applied Optoelectronics, Inc. (AAOI) and Tandem Diabetes Care, Inc. (TNDM ...\n ValueWalk - Feb 25, 2018 \nMorgan Stanley has filed an SC 13G form with the Securities and Exchange Commission (SEC) disclosing ownership of 1,031,110 shares of Applied Optoelectronics, Inc. (NASDAQ:AAOI). This represents 5.3 percent ownership of the company. Previously, Morgan ...\nAs Applied Optoelectronics INC (Aaoi) (AAOI) Market Valuation Rose ... - Frisco Fastball\nAs Applied Optoelectronics INC (Aaoi) (AAOI) Market Value Rose, Holder Goldman ... - Reurope","date":"2018-02-25T00:11:15.000Z","link":"http://www.valuewalk.com/2018/02/applied-optoelectronics-inc-aaoi-tandem-diabetes-care-inc-tndm-activist-update/"},{"guid":"tag:finance.google.com,cluster:52779817061927","symbol":"NASDAQ:TNDM","title":"Tandem Diabetes Care Announces 2017 Financial Results","description":"Tandem Diabetes Care Announces 2017 Financial Results\n Business Wire (press release) - Mar 1, 2018 \nSAN DIEGO--(BUSINESS WIRE)--Tandem Diabetes Care®, Inc. (NASDAQ: TNDM), a medical device company and manufacturer of the only touchscreen insulin pumps available in the United States, today reported its financial results for the year and quarter ended ...\nWhen Will Tandem Diabetes Care Inc (NASDAQ:TNDM) Become Profitable? - Simply Wall St\nTandem Diabetes Care Inc. (TNDM) Soars 14.75% on March 02 - Equities.com","summary":"Tandem Diabetes Care Announces 2017 Financial Results\n Business Wire (press release) - Mar 1, 2018 \nSAN DIEGO--(BUSINESS WIRE)--Tandem Diabetes Care®, Inc. (NASDAQ: TNDM), a medical device company and manufacturer of the only touchscreen insulin pumps available in the United States, today reported its financial results for the year and quarter ended ...\nWhen Will Tandem Diabetes Care Inc (NASDAQ:TNDM) Become Profitable? - Simply Wall St\nTandem Diabetes Care Inc. (TNDM) Soars 14.75% on March 02 - Equities.com","date":"2018-03-01T21:00:00.000Z","link":"https://www.businesswire.com/news/home/20180301006453/en/Tandem-Diabetes-Care-Announces-2017-Financial-Results"},{"guid":"tag:finance.google.com,cluster:https://seekingalpha.com/article/4152634-tandem-diabetes-cares-tndm-ceo-kim-blickenstaff-q4-2017-results-earnings-call-transcript","symbol":"NASDAQ:TNDM","title":"Tandem Diabetes Care's (TNDM) CEO Kim Blickenstaff on Q4 2017 Results ...","description":"Tandem Diabetes Care's (TNDM) CEO Kim Blickenstaff on Q4 2017 Results ...\n Seeking Alpha - Mar 2, 2018 \nGood afternoon, everyone, and thank you for joining Tandem's fourth quarter and full year 2017 earnings conference call.","summary":"Tandem Diabetes Care's (TNDM) CEO Kim Blickenstaff on Q4 2017 Results ...\n Seeking Alpha - Mar 2, 2018 \nGood afternoon, everyone, and thank you for joining Tandem's fourth quarter and full year 2017 earnings conference call.","date":"2018-03-02T03:00:00.000Z","link":"https://seekingalpha.com/article/4152634-tandem-diabetes-cares-tndm-ceo-kim-blickenstaff-q4-2017-results-earnings-call-transcript"},{"guid":"tag:finance.google.com,cluster:52779820094310","symbol":"NASDAQ:TNDM","title":"Tandem Diabetes Care, Inc. (TNDM) Stock Price Increases Today","description":"Tandem Diabetes Care, Inc. (TNDM) Stock Price Increases Today\n Frisco Fastball - 13 hours ago \nAmeriprise Fincl owns 0% invested in Tandem Diabetes Care, Inc. (NASDAQ:TNDM) for 10,000 shares. Deutsche Bank Ag invested in 75 shares or 0% of the stock.\nCould Tandem Diabetes Care, Inc. (TNDM) See a Reversal After This Very Strong ... - BZ Weekly\nTandem Diabetes Care, Inc. (TNDM) Just Recorded A Sigfniciant Increase - Reurope","summary":"Tandem Diabetes Care, Inc. (TNDM) Stock Price Increases Today\n Frisco Fastball - 13 hours ago \nAmeriprise Fincl owns 0% invested in Tandem Diabetes Care, Inc. (NASDAQ:TNDM) for 10,000 shares. Deutsche Bank Ag invested in 75 shares or 0% of the stock.\nCould Tandem Diabetes Care, Inc. (TNDM) See a Reversal After This Very Strong ... - BZ Weekly\nTandem Diabetes Care, Inc. (TNDM) Just Recorded A Sigfniciant Increase - Reurope","date":"2018-03-04T19:41:15.000Z","link":"https://friscofastball.com/tandem-diabetes-care-inc-tndm-stock-price-increases-today/"}]});
    this.loadNewsFromServer();
  }

  async loadNewsFromServer() {
    let response: any = await this.rest.loadCompanyNews('NASDAQ:ECYT,NASDAQ:TNDM');
    this.groupedNews = this.groupNewsByDate(_.get(response, 'data') || {});
  }

  groupNewsByDate(news) {
    let groupedItems = {};
    _.forEach(news, tickerNews => {
      groupedItems = _.merge(groupedItems, _.chain(tickerNews)
        .groupBy(record => moment(record.date).format("L"))
        .value());
    });
    let response = [];
    _.forEach(groupedItems, (items, date) => {
      response.push({
        date: moment(date, 'L').fromNow(),
        timestamp: date,
        items: items
      });
    });
    response.sort(function (a, b) {
      return moment(_.get(a, 'timestamp'), 'L').isBefore(moment(_.get(b, 'timestamp'), 'L')) ? 1 : -1;
    });
    return response;
  }

}
